{{>licenseInfo}}
{{#models}}{{#model}}

{{#defaultInclude}}#include "{{{defaultInclude}}}"{{/defaultInclude}}
#include "{{classname}}Test.h"
#include "JsonSerializer.h"

{{#modelNamespaceDeclarations}}
namespace {{this}}
{
{{/modelNamespaceDeclarations}}

	using namespace Utils;

	template <class TType>
	void LogReadExampleError(const FString& FieldName, TType ExampleValue)
	{
		FString exampleValue(Lex::ToString(ExampleValue));
		UE_LOG(LogTemp, Warning, TEXT("Unable to read example value (=%s) for field: %s"), *exampleValue, *FieldName);
	}

	{{classname}} {{classname}}Test::Example()
	{
		{{classname}} ret;
		JsonSerializer serializer;

		{{#vars}}
		{{#isNotContainer}}
		{{#example}}
		{
			FString exampleValue = "{{{example}}}";
			if (!serializer.TryGetJsonValue(MakeShared<FJsonValueString>(exampleValue), ret.{{name}}))
			{
				LogReadExampleError(TEXT("{{name}}"), exampleValue);
			}
		}
		{{/example}}
		{{/isNotContainer}}
		{{/vars}}
		return ret;
	}
{{#modelNamespaceDeclarations}}
}
{{/modelNamespaceDeclarations}}

{{/model}}
{{/models}}
